{% extends 'base.html' %}

{% block content %}
<hr>
  <h2><b>{{ person.username }}ë‹˜ì˜ í”„ë¡œí•„</b></h2>

  {% if request.user != person %}
  <form action="{% url 'accounts:follow' person.pk %}" method="POST">
    {% csrf_token %}
    {% if request.user in person.followers.all %}
      <button type="submit" class="btn btn-danger btn-sm">Unfollow</button>
    {% else %}
      <button type="submit" class="btn btn-primary btn-sm">Follow</button>  
    {% endif %}
  </form>
  {% endif %}

  <p>íŒ”ë¡œì›Œ {{ person.followers.all|length }} | íŒ”ë¡œì‰ {{ person.followings.all|length }}</p>
  <p>[íŒ”ë¡œì›Œ ëª©ë¡]</p>
  {% for user in person.followers.all %}
    <p>{{ user.username }}</p>
  {% endfor %}
  <p>[íŒ”ë¡œì‰ ëª©ë¡]</p>
  {% for user in person.followings.all %}
    <p>{{ user.username }}</p>
  {% endfor %}

  <h5>ğŸ“ì‘ì„± ê²Œì‹œê¸€ ëª©ë¡</h5>
  {% for article in person.article_set.all %}
    <div>â€¢ {{ article.title }}</div>
  {% endfor %}
  <hr>
  <h5>âœì‘ì„± ëŒ“ê¸€ ëª©ë¡</h5>
  {% for comment in person.comment_set.all %}
    <div>â€¢ {{ comment.content }}</div>
  {% endfor %}
  <hr>
  <h5>â¤ê²Œì‹œê¸€ ëª©ë¡</h5>
  {% for article in person.like_articles.all %}
    <div>â€¢ {{ article.title }}</div>
  {% endfor %}
  <br>
  <a href="{% url 'articles:index' %}">BACK</a>
{% endblock content %}